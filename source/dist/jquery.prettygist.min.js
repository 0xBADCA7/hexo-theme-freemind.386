(function(e,b,a,g){var d="prettyGist",f={showHeader:true,extendedHeader:true,showFooter:true};function c(i,h){this.element=i;this.options=e.extend({},f,h);this.init()}c.prototype={init:function(){var h=e(this.element).attr("id").substring(5),i=this.options,j=this.element,l=this.placeholder(j,h),k=this.model(h,function(m){e("#placeholder-for-"+h).replaceWith(c.prototype.layout(m,j,i));if(i.showFooter===true){c.prototype.bind(m.data.id)}if(typeof hljs!=="undefined"){hljs.initHighlightingOnLoad();e(".pg-pretty-gist").addClass("pg-hljs")}})},placeholder:function(j,h){var i='<div class="pretty-gist-placeholder" id="placeholder-for-'+h+'"></div>';e(i).insertAfter(j)},model:function(h,i){e.getJSON("https://api.github.com/gists/"+h+"?callback=?",function(j){i(j)})},layout:function(k,j,i){var h="";h+='<div class="pg-pretty-gist" id="pg-pretty-gist-'+k.data.id+'">';if(i.showHeader===true){h+='<div class="pg-header pg-clear">';if(i.extendedHeader===true){h+='<div class="pg-logo"><a href="https://github.com/">Github</a></div>';h+='<div class="pg-user"><a href="https://github.com/'+k.data.user.login+'" class="pg-github-user">';if(typeof k.data.user.avatar_url!=="undefined"&&k.data.user.avatar_url.length>0){h+='<img src="'+k.data.user.avatar_url+'" alt="Avatar" width="34px" height="34px" />'}else{h+='<img src="https://a248.e.akamai.net/assets.github.com/images/gravatars/gravatar-140.png" alt="Avatar" width="34px" height="34px" />'}h+="</div>";h+='<div class="pg-github-user-data">';h+='<h2><a href="https://gist.github.com/gists/'+k.data.id+'">'+k.data.description+"</a></h2>";h+='<h3><a href="https://github.com/'+k.data.user.login+'">'+k.data.user.login+"</a></h3>";h+="</div>"}else{h+='<h2 class="pg-single"><a href="https://gist.github.com/gists/'+k.data.id+'">'+k.data.description+"</a></h2>"}h+="</div>"}h+='<div class="pg-code-container"><ol>';e.each(e(j).find(".line"),function(l){h+='<li class="pg-pretty-line" id="pg-pretty-line-'+l+'"><pre><code>'+e(this).html()+"</pre></code></li>"});h+="</ol></div>";if(i.showFooter===true){h+='<div class="pg-footer pg-clear">';h+='<a href="https://gist.github.com/gists/'+k.data.id+'/download" class="pg-button pg-left">Download Gist</a>';h+='<a href="#" class="pg-button pg-middle pg-show-embed" data-embed="https://gist.github.com/'+k.data.id+'.js">Embed Gist</a>';h+='<a href="#" class="pg-button pg-right pg-show-clone-url" data-clone-url="git://gist.github.com/'+k.data.id+'.git">Clone Gist</a>';h+='<a href="#" class="pg-button pg-single pg-show-plugin-info">Info</a>';h+="</div>"}h+="</div>";return h},bind:function(h){e("#pg-pretty-gist-"+h+" .pg-show-embed").click(function(i){i.preventDefault();var j="&lt;script src=&quot;"+e(this).attr("data-embed")+"&quot;>&lt;/script>",k="Embed code:";c.prototype.modal(h,k,j)});e("#pg-pretty-gist-"+h+" .pg-show-clone-url").click(function(i){i.preventDefault();var j=e(this).attr("data-clone-url"),k="Clone url:";c.prototype.modal(h,k,j)});e("#pg-pretty-gist-"+h+" .pg-show-plugin-info").click(function(i){i.preventDefault();var j='Pretty Gist by <a href="http://www.joepettersson.com/pretty-gist/">Joe Pettersson</a><br />A plugin to make prettier and more functional embedded Github Gists';c.prototype.modal(h,j)})},modal:function(k,m,j){e("#pg-pretty-gist-"+k).find(".pg-gist-modal").remove();var h="",i=e("#pg-pretty-gist-"+k).outerWidth()-2,l=(e("#pg-pretty-gist-"+k+" .pg-code-container").outerHeight()/2)-23;h+='<div class="pg-gist-modal" style="width: '+i+"px; padding: "+l+'px 0px;">';h+="<p>"+m+"</p>";if(typeof j!=="undefined"){h+='<input type="text" value="'+j+'" class="pg-gist-input" name="embed-url" />'}h+="</div>";e(h).insertBefore("#pg-pretty-gist-"+k+" .pg-code-container");e("#pg-pretty-gist-"+k+" .pg-gist-modal").click(function(n){e("#pretty-gist-"+k).find(".pg-gist-modal").remove()})}};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new c(this,h))}})}}(jQuery,window,document));